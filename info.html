<!DOCTYPE html>
<html lang="bn">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Landing Page</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  </head>

  <body class="bg-light">
    <div class="container mt-5">
      <h2 class="text-center mb-4">à¦•à¦¾à¦° à¦‡à¦¨à¦«à§‹ à¦¦à§‡à¦–à¦¤à§‡ à¦šà¦¾à¦¨?</h2>

      <div class="d-flex justify-content-center gap-3 mb-4">
        <button class="btn btn-primary" onclick="showUser('naeem')">Eftekhar Naeem</button>
        <button class="btn btn-success" onclick="showUser('mithila')">Esrat Jahan Mithila</button>
      </div>

      <div class="mb-3">
        <input type="text" id="searchInput" class="form-control" placeholder="ID, Password à¦¬à¦¾ University à¦¦à¦¿à§Ÿà§‡ à¦–à§à¦à¦œà§à¦¨...">
      </div>

      <div class="table-responsive">
        <table class="table table-striped table-bordered">
          <thead class="table-dark">
            <tr>
              <th>ID / Username</th>
              <th>Password</th>
              <th>University</th>
              <th>Date</th>
              <th>Countdown</th>
            </tr>
          </thead>
          <tbody id="userTable">
          </tbody>
        </table>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <script>
      // ðŸ”¹ à¦¦à§à¦‡à¦œà¦¨à§‡à¦° à¦¡à§‡à¦Ÿà¦¾ â€” à¦¤à§‹à¦®à¦¾à¦° à¦¨à¦¿à¦œà§‡à¦° JSON, à¦¶à§à¦§à§ date à¦¯à§à¦•à§à¦¤
      const data = {
        naeem: [
          { id:"261278552", pass:"LfeT7BHW", university:"Rajshahi University", date:"2026-01-16" },
          { id:"C-DNJT", pass:"G9WX38", university:"Bangladesh Maritime University", date:"2026-01-30" },
          { id:"1000233", pass:"37htff", university:"HSTU", date:"2026-01-27", end:"2026-01-29" },
          { id:"774717", pass:"PASS", university:"Khulna University", date:"2025-12-18" },
          { id:"raj24112215", pass:"7a3aehkq", university:"Chittagong University (D)", date:"2026-01-03" },
          { id:"3689657", pass:"QM9PPS", university:"GST", date:"2026-03-10" }
        ],

        mithila: [
          { id:"260526910", pass:"Mha3BGMA", university:"Rajshahi University", date:"2026-01-16" },
          { id:"1013824", pass:"hqhe31", university:"HSTU", date:"2026-01-27", end:"2026-01-29" },
          { id:"C-HBZBK", pass:"GX9T5M", university:"Bangladesh Maritime University", date:"2026-01-30" },
          { id:"656522", pass:"PASS", university:"Khulna University", date:"2025-12-18" },
          { id:"raj25103000", pass:"8stpzpz2", university:"Chittagong University (B)", date:"2026-01-10" },
          { id:"2185558", pass:"4Y2X58", university:"GST", date:"2026-03-10" }
        ]
      };

      let currentUser = [];
      const tableBody = document.getElementById("userTable");

      // ðŸ”¹ Countdown Function
      function getCountdown(start, end = null) {
        const today = new Date().setHours(0,0,0,0);
        const startDate = new Date(start).setHours(0,0,0,0);

        if (end) {
          const endDate = new Date(end).setHours(0,0,0,0);
          if (today > endDate) return "Completed";
          if (today < startDate) {
            return Math.round((startDate - today) / 86400000) + " days left";
          }
          return "Running...";
        }

        const diff = Math.round((startDate - today) / 86400000);
        return diff < 0 ? "Completed" : diff + " days left";
      }

      // ðŸ”¹ Render Table
      function renderTable(list) {
        tableBody.innerHTML = "";

        // date à¦…à¦¨à§à¦¯à¦¾à§Ÿà§€ à¦¸à¦¾à¦œà¦¾à¦¨à§‹
        list.sort((a, b) => new Date(a.date) - new Date(b.date));

        list.forEach(user => {
          const countdown = getCountdown(user.date, user.end);
          const dateRange = user.end ? `${user.date} â†’ ${user.end}` : user.date;

          const row = `
            <tr>
              <td>${user.id}</td>
              <td>${user.pass}</td>
              <td>${user.university}</td>
              <td>${dateRange}</td>
              <td>${countdown}</td>
            </tr>
          `;
          tableBody.innerHTML += row;
        });
      }

      // ðŸ”¹ Show selected user's data
      function showUser(userKey) {
        currentUser = data[userKey];
        renderTable(currentUser);
        document.getElementById("searchInput").value = "";
      }

      // ðŸ”¹ Search
      document.getElementById("searchInput").addEventListener("keyup", function() {
        const query = this.value.toLowerCase();
        const filtered = currentUser.filter(user =>
          user.id.toLowerCase().includes(query) ||
          user.pass.toLowerCase().includes(query) ||
          user.university.toLowerCase().includes(query)
        );
        renderTable(filtered);
      });

    </script>
  </body>
</html>
